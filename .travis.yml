language: python

python:
  - 3.9

install:
  - pip install -r requirements.txt

before_script:
  - python manage.py migrate
  
script:
  - black --check .
  - flake8 .
  - coverage run --source=swe1_app3,polls manage.py test

after_script:
  - coveralls

deploy:
  provider: elasticbeanstalk
  access_key_id:
    secure: "sNHI7++uEpEbixp04QYOR0ubLmkEKmoSPgdtgHyRB3bwnMC56g93TBI67s3niI5Nw+BfeBCeR6xPbrdMWYWd8ctLmzvCSCIYvsm7mYfI38X22cqwRWa2O+EiYWZSMCiowUBx0D6G8i6ETuGXnp38d8BMToXoLH9GV9aT1xbND+YSQPjgSQg4VKJEb9ChM+Kn813kgGoM8RYnx90A2nI1MY9kLK0rYFiNqTWCMQGCtKHi4ulXr9wVqzhR37XKA//q60FXzn1GWCEiZ2TEKz6SCH+UE3tNQ8J8YXuRZYWTeOQohngMnOe1t0vFfuL0usLAUjYuWJQcNq5YKHsrGeDTqiUSkda4xGxw9qVc2ILO9nP5/OUOBPg9ZP5/Eqwgbbwb2cljdv/UacEsqycOoE3uC7phPrU4ulmFAif1nnFyrj7AWyrlryueJZ3ARuGTO0saYzxlsJYt+6RjGZC9scDFMeTMyUuwsjgdpuDJBxWTUvLQkkZPyYLoTgWHurKzeZ4nBQ9oryobey0Lm+8JubAM2LISLVuXLwruxuZAfj89F+pizvRRrN2A0wjE4V7fEtWljGTaXdDX5WSl4P6QD6a/f5kKZ0gXluv7CT2y6oyk16bJf0FI5bivadKJODopoCzuF6BYbESixnZgxiXHPTvfsasbYRbsW9R9X9ApTQ4jva0="
  secret_access_key:
    secure: "NqF8SiTy1jb5S+uXANcn7HSSUg9f1nm0MdP+sEuFPZb++d5LZFHKPRi3qfpfU42RyiA9pzZNkryBS5VNGUP/uHnItOWl9quQljLqugfuZUkNMyDO7rnU9avjZem4Ja69gaDIYz/OMxVSLll+BDiQbf/OZk5/QcxpaOjkt+H+DPArjFHpsywU168xR7tmBcnE0kDYTTNqGH2hfniCqmntrD0k8VaKf0nIRLXvk8Bl3KTC4Xfj++UPTR1Co9JEsUQnu719ZWXY4L47eW7+f86Obhsfn7faioPyY3qiIIHftF50vg0X3fnIrz+smucP51nGGJ8DQIjyfYyKpV26TeV91gvgE7JcfQiVzdh49dxGquboG1fnO0+m8Z/tvBm5ycYGUym07xFE/nrS3E2R6lC9u/L0riQlMZsFKaWQn+9oPGFTaGjbTaHWkeqXONvaz/TXEqtxMliMm8Dye0MBH+1RpDY6YXr3OXnCN0/8EqlAlRBtstfmmgxXxxYd0VWSg9gZ8yen295FDTf0CCuBFlEqL9OFGBysU+X39fikzk9SKC3opfCYRJwZZ/jPndejm/8xDcIpo6ZvIE9INWROGjUro349D5XChyPbItDsSRE00uawWTwzF7yhjqpQerfvYyKq2xepeh9o6ISfbWEwMn5TjbKUku7t640pBRoOBBtaHSs="
  region: "us-west-2"
  app: "polls"
  env: "django-env"
  bucket_name: "the-target-S3-bucket"
